import { Router } from "express";
import { requireAuth } from "../middlewares/requireAuth.js";
import { requireCsrf } from "../middlewares/csrf.js";
import { validate } from "../middlewares/validate.js";
import * as addressController from "../controllers/address.controller.js";
import { createAddressSchema, deleteAddressSchema, listAddressesSchema, setDefaultAddressSchema, updateAddressSchema, } from "../validations/address.validation.js";
export const addressRoutes = Router();
addressRoutes.get("/", requireAuth, validate(listAddressesSchema), addressController.list);
addressRoutes.post("/", requireAuth, requireCsrf, validate(createAddressSchema), addressController.create);
addressRoutes.patch("/:id", requireAuth, requireCsrf, validate(updateAddressSchema), addressController.update);
addressRoutes.delete("/:id", requireAuth, requireCsrf, validate(deleteAddressSchema), addressController.remove);
addressRoutes.post("/:id/default", requireAuth, requireCsrf, validate(setDefaultAddressSchema), addressController.setDefault);
